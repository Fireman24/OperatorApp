{"version":3,"sources":["C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-car-modal/add-car-modal.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-car-modal/add-car-modal.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-doc-modal/add-doc-modal.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-doc-modal/add-doc-modal.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire-routing.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire.module.ts"],"names":[],"mappings":"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","file":"fire.module.chunk.js","sourcesContent":["module.exports = \"\\r\\n<div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title\\\">{{ 'Add firecar' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"CloseModal();\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n            <div ngbDropdown class=\\\"d-inline-block\\\">\\r\\n                <button class=\\\"btn btn-outline-primary\\\" id=\\\"departments\\\" ngbDropdownToggle>{{ 'Departments' | translate}}</button>\\r\\n                <div ngbDropdownMenu aria-labelledby=\\\"departments\\\">\\r\\n                    <button *ngFor=\\\"let d of _departments\\\" class=\\\"dropdown-item\\\" (click)=\\\"SelectDepartment(d);\\\" placement=\\\"right\\\" ngbTooltip=\\\"{{d.address}}\\\">\\r\\n                        {{d.name}}\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"col\\\">\\r\\n            <div ngbDropdown class=\\\"d-inline-block\\\">\\r\\n                <button class=\\\"btn btn-outline-primary\\\" id=\\\"firecars\\\" ngbDropdownToggle>{{'Firecars' | translate }}</button>\\r\\n                <div ngbDropdownMenu aria-labelledby=\\\"firecars\\\">\\r\\n                    <button *ngFor=\\\"let c of _cars\\\" class=\\\"dropdown-item\\\" (click)=\\\"SelectCar(c);\\\" placement=\\\"right\\\" ngbTooltip=\\\"{{c.specialization}}\\\">\\r\\n                        {{c.name}}\\r\\n                    </button>\\r\\n\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-car-modal/add-car-modal.component.html\n// module id = ../../../../../src/app/layout/fire/add-car-modal/add-car-modal.component.html\n// module chunks = fire.module","import {Component, EventEmitter, Injectable, OnInit, Output} from '@angular/core';\r\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {DepartureService} from '../../../shared/services/DepartureService';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {Departure} from '../../../shared/models/Departure';\r\nimport {Address} from '../../../shared/models/Address';\r\nimport {AddressService} from '../../../shared/services/AddressService';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {of} from 'rxjs/observable/of';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport 'rxjs/add/operator/do';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/merge';\r\nimport {GpsPoint} from '../../../shared/modules/map-module/GpsPoint';\r\nimport {StringDateProvider} from '../../../shared/providers/StringDateProvider';\r\nimport {Department} from '../../../shared/models/Department';\r\nimport {DepartmentService} from '../../../shared/services/DepartmentService';\r\nimport {FireCar} from '../../../shared/models/FireCar';\r\n\r\n@Component({\r\n    selector: 'app-car-departure-modal',\r\n    templateUrl: './add-car-modal.component.html',\r\n    providers: [ DepartmentService]\r\n})\r\nexport class AddCarModalComponent implements OnInit {\r\n\r\n    public car: FireCar = null;\r\n\r\n\r\n    public _cars: FireCar[] = [];\r\n    public _departments: Department[] = [];\r\n\r\n    @Output()\r\n    public OnClose: EventEmitter<any> = new EventEmitter();\r\n\r\n\r\n\r\n\r\n    constructor(private _modalService: NgbActiveModal,\r\n                private _departmentService: DepartmentService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this._departmentService.getDepartments().subscribe(data => this._departments = data);\r\n\r\n    }\r\n\r\n    CloseModal() {\r\n        this._modalService.close();\r\n        this.OnClose.next(null);\r\n    }\r\n\r\n\r\n    SelectCar(car: FireCar) {\r\n        this.car = car;\r\n        this.CloseModal();\r\n    }\r\n\r\n    SelectDepartment(dep: Department) {\r\n        this._departmentService.getDepartmentById(dep.id).subscribe(data => this._cars = data.fireCars);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-car-modal/add-car-modal.component.ts","module.exports = \"\\r\\n<div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title\\\">{{ 'Add document' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"CloseModal();\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <input type=\\\"file\\\"\\r\\n                       id=\\\"file\\\"\\r\\n                       (change)=\\\"handleFileInput($event.target.files)\\\">\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-doc-modal/add-doc-modal.component.html\n// module id = ../../../../../src/app/layout/fire/add-doc-modal/add-doc-modal.component.html\n// module chunks = fire.module","import {Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {DepartureService} from '../../../shared/services/DepartureService';\r\nimport 'rxjs/add/operator/catch';\r\nimport 'rxjs/add/operator/debounceTime';\r\nimport 'rxjs/add/operator/distinctUntilChanged';\r\nimport 'rxjs/add/operator/do';\r\nimport 'rxjs/add/operator/map';\r\nimport 'rxjs/add/operator/switchMap';\r\nimport 'rxjs/add/operator/merge';\r\n\r\n\r\n@Component({\r\n    selector: 'app-doc-departure-modal',\r\n    templateUrl: './add-doc-modal.component.html',\r\n    providers: [ DepartureService]\r\n})\r\nexport class AddDocumentModalComponent implements OnInit {\r\n\r\n    public file: File = null;\r\n\r\n    @Output()\r\n    public OnClose: EventEmitter<any> = new EventEmitter();\r\n\r\n    constructor(private _modalService: NgbActiveModal,\r\n                private _departmentService: DepartureService) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    handleFileInput(files: FileList) {\r\n        this.file = files.item(0);\r\n        this.CloseModal();\r\n    }\r\n\r\n    CloseModal() {\r\n        this._modalService.close();\r\n        this.OnClose.next(null);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/add-doc-modal/add-doc-modal.component.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {FireComponent} from './fire.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: FireComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class FireRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire-routing.module.ts","module.exports = \"<div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xl-6 text-xl-left\\\">\\r\\n            <h3>{{_fire.address}}</h3>\\r\\n        </div>\\r\\n        <div class=\\\"col-xl-6 text-xl-right\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-link\\\" (click)=\\\"ReloadData();\\\">\\r\\n                <i *ngIf=\\\"!_loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-refresh fa-2x\\\"></i>\\r\\n                <i *ngIf=\\\"_loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-spin fa-refresh fa-2x\\\"></i>\\r\\n            </button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"SaveData();\\\">{{ 'Save' | translate }}</button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-body table-responsive\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"address\\\">{{ 'Address' | translate }}</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"address\\\" [(ngModel)]=\\\"_fire.address\\\">\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"rank\\\">{{ 'Rank' | translate }}</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"rank\\\" [(ngModel)]=\\\"_fire.rank\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"manager\\\">{{ 'Manager' | translate }}</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"manager\\\" [(ngModel)]=\\\"_fire.manager\\\">\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"receiver\\\">{{ 'Receiver' | translate }}</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"receiver\\\" [(ngModel)]=\\\"_fire.receiver\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label for=\\\"comments\\\">{{ 'Comments' | translate }}</label>\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"comments\\\" [(ngModel)]=\\\"_fire.comments\\\">\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"form-group col\\\">\\r\\n                <div class=\\\"checkbox\\\">\\r\\n                    <label>\\r\\n                        <input id=\\\"active\\\" type=\\\"checkbox\\\" checked [(ngModel)]=\\\"_fire.active\\\" > {{'Active' | translate }}\\r\\n                    </label>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n                <i>{{ 'Date' | translate }} {{ 'Time' | translate }}: {{ _fire.startDateTime | amFromUtc | amLocal | amDateFormat: 'YYYY-MM-DD HH:mm' }}</i>\\r\\n                <button *ngIf=\\\"false\\\" type=\\\"button\\\" class=\\\"btn btn-sm btn-link\\\">{{ 'Edit' | translate }}</button>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n                <i>{{ 'Department' | translate }} {{ _fire.department.name}}</i>\\r\\n                <button *ngIf=\\\"false\\\" type=\\\"button\\\" class=\\\"btn btn-sm btn-link\\\">{{ 'Edit' | translate }}</button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"card col\\\">\\r\\n                <div class=\\\"card-header row\\\">\\r\\n                    <div class=\\\"col-xl-6 text-xl-left\\\">\\r\\n                        <h3>{{'Firecars' | translate }}</h3>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xl-6 text-xl-right\\\">\\r\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary -align-right\\\" (click)=\\\"AddCarButtonClick();\\\">{{ 'Add' | translate }}</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <table *ngIf=\\\"(_fire.fireCars != null) && (_fire.fireCars.length > 0)\\\" class=\\\"table\\\">\\r\\n                        <thead class=\\\"thead-dark\\\">\\r\\n                        <tr>\\r\\n                            <th scope=\\\"col\\\">{{ 'Name' | translate }}</th>\\r\\n                            <th scope=\\\"col\\\">{{ 'Specialization' | translate }}</th>\\r\\n                            <th></th>\\r\\n                        </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                        <tr *ngFor=\\\"let car of _fire.fireCars\\\">\\r\\n                            <td>{{car.name}}</td>\\r\\n                            <td>{{car.specialization}}</td>\\r\\n                            <td>\\r\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"RemoveFirecar(car);\\\" >{{ 'Remove' | translate }}</button>\\r\\n                                <button type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"GoToFirecarInfo(car);\\\" >{{ 'Info' | translate }}</button>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"card col\\\">\\r\\n                <div class=\\\"card-header row\\\">\\r\\n                    <div class=\\\"col-xl-6 text-xl-left\\\">\\r\\n                        <h3>{{'Documents' | translate }}</h3>\\r\\n                    </div>\\r\\n                    <div class=\\\"col-xl-6 text-xl-right\\\">\\r\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary -align-right\\\" (click)=\\\"AddDocument();\\\" >{{ 'Add' | translate }}</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <table *ngIf=\\\"(_fire.images != null) && (_fire.images.length > 0)\\\" class=\\\"table\\\">\\r\\n                        <thead class=\\\"thead-dark\\\">\\r\\n                        <tr>\\r\\n                            <th scope=\\\"col\\\">{{ 'Name' | translate }}</th>\\r\\n                            <th></th>\\r\\n                        </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                        <tr *ngFor=\\\"let doc of _fire.images\\\">\\r\\n                            <td>{{doc.name}}</td>\\r\\n                            <td>\\r\\n                                <button type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"OpenDocumentButtonClick(doc);\\\">{{ 'Open' | translate }}</button>\\r\\n                                <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"RemoveDocumentButtonClick(doc);\\\">{{ 'Remove' | translate }}</button>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"card col\\\">\\r\\n                <div class=\\\"card-header row\\\">\\r\\n                    <div class=\\\"col-xl-6 text-xl-left\\\">\\r\\n                        <h3>{{'History' | translate }}</h3>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"card-body\\\">\\r\\n                    <div class=\\\"row\\\">\\r\\n                        <div class=\\\"input-group mb-3\\\">\\r\\n                            <input type=\\\"text\\\" #htext class=\\\"form-control\\\" placeholder=\\\"{{ 'Message' | translate }}\\\">\\r\\n                            <div class=\\\"input-group-append\\\">\\r\\n                                <button class=\\\"btn btn-outline-secondary\\\" (click)=\\\"AddHistoryRecord(htext.value);\\\" type=\\\"button\\\">{{ 'Add' | translate }}</button>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <table *ngIf=\\\"(_fire.history != null) && (_fire.history.length > 0)\\\" class=\\\"table\\\">\\r\\n                        <thead class=\\\"thead-dark\\\">\\r\\n                        <tr>\\r\\n                            <th scope=\\\"col\\\">{{ 'Message' | translate }}</th>\\r\\n                            <th scope=\\\"col\\\">{{ 'Time' | translate }}</th>\\r\\n                        </tr>\\r\\n                        </thead>\\r\\n                        <tbody>\\r\\n                        <tr *ngFor=\\\"let hys of _fire.history\\\">\\r\\n                            <td>{{hys.record}}</td>\\r\\n                            <td>{{hys.dateTime | amFromUtc | amLocal | amDateFormat: 'YYYY-MM-DD HH:mm'}}</td>\\r\\n                        </tr>\\r\\n                        </tbody>\\r\\n                    </table>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire.component.html\n// module id = ../../../../../src/app/layout/fire/fire.component.html\n// module chunks = fire.module","import { Component, OnInit } from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {Departure} from '../../shared/models/Departure';\r\nimport {FireService} from '../../shared/services/FireService';\r\nimport * as moment from 'moment';\r\nimport 'moment/locale/ru';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {HistoryRecord} from '../../shared/models/HistoryRecord';\r\nimport {AddDepartureModalComponent} from '../departure-list/add-departure-modal/add-departure-modal.component';\r\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {AddCarModalComponent} from './add-car-modal/add-car-modal.component';\r\nimport {FireCar} from '../../shared/models/FireCar';\r\nimport {AddDocumentModalComponent} from './add-doc-modal/add-doc-modal.component';\r\nimport {Image} from '../../shared/models/Image';\r\nimport {RequestOptions, ResponseContentType} from '@angular/http';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Backend} from '../../shared/services/Backend';\r\nimport {Fire} from '../../shared/models/Fire';\r\n\r\n@Component({\r\n    selector: 'app-fire',\r\n    templateUrl: './fire.component.html',\r\n    providers: [FireService]\r\n})\r\nexport class FireComponent implements OnInit {\r\n\r\n    id: number;\r\n    private subscription: Subscription;\r\n    _loading: boolean;\r\n    _fire: Fire = new Fire();\r\n    public broadcastVisible = false;\r\n    public mapVisible = false;\r\n\r\n    constructor(private _activateRoute: ActivatedRoute,\r\n                private _router: Router,\r\n                private _fireService: FireService,\r\n                private _http: HttpClient,\r\n                private _modalService: NgbModal) {\r\n        this.subscription = _activateRoute.params.subscribe(params => this.id = params['id']);\r\n\r\n    }\r\n\r\n    ngOnInit() {\r\n        moment.locale('ru');\r\n        this.ReloadData();\r\n    }\r\n\r\n    public ReloadData() {\r\n        this._loading = true;\r\n        this._fireService.getFireById(this.id).subscribe(data => {\r\n            this._fire = data;\r\n            this._loading = false;\r\n        });\r\n    }\r\n\r\n    AddCarButtonClick() {\r\n        const modalRef = this._modalService.open(AddCarModalComponent);\r\n        const form = modalRef.componentInstance;\r\n        form.OnClose.subscribe(e => {\r\n            if ( form.car != null) {\r\n                this._fireService.addFirecar(this._fire.id, form.car).subscribe(data => {\r\n                    this.ReloadData();\r\n                });\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    public SaveData() {\r\n        this._loading = true;\r\n        this._fireService.updateFire(this._fire).subscribe(data => this.ReloadData());\r\n    }\r\n\r\n    public AddHistoryRecord(value: string) {\r\n        const hrecord = new HistoryRecord();\r\n        hrecord.dateTime =  new Date(Date.now()).toISOString();\r\n        hrecord.record = value;\r\n        this._fire.history.push(hrecord);\r\n    }\r\n\r\n\r\n    RemoveFirecar(car: FireCar) {\r\n        this._fireService.deleteFirecar(this._fire.id, car).subscribe(data => this.ReloadData());\r\n    }\r\n\r\n    AddDocument() {\r\n        const modalRef = this._modalService.open(AddDocumentModalComponent);\r\n        const form = modalRef.componentInstance;\r\n        form.OnClose.subscribe(e => {\r\n            if (form.file != null) {\r\n                this._fireService.addDocument(this._fire.id, form.file).subscribe(data => {\r\n                    this.ReloadData();\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    OpenDocumentButtonClick(doc: Image) {\r\n        const docUrl = Backend.HOST_URL + doc.url;\r\n        window.open(docUrl);\r\n    }\r\n\r\n    RemoveDocumentButtonClick(doc: Image) {\r\n        this._fireService.deleteDocument(this._fire.id, doc).subscribe(data => this.ReloadData());\r\n    }\r\n\r\n    GoToFirecarInfo(car: FireCar) {\r\n        this._router.navigate(\r\n            ['/firecar', car.id]);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {FireComponent} from './fire.component';\r\nimport {FireRoutingModule} from './fire-routing.module';\r\nimport {TranslateModule} from '@ngx-translate/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {PageHeaderModule} from '../../shared';\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\r\nimport {MomentModule} from 'angular2-moment';\r\nimport {AddCarModalComponent} from './add-car-modal/add-car-modal.component';\r\nimport {AddDocumentModalComponent} from './add-doc-modal/add-doc-modal.component';\r\n\r\n\r\n\r\n@NgModule({\r\n    imports: [CommonModule, FireRoutingModule, PageHeaderModule, TranslateModule, NgbModule.forRoot(), FormsModule, MomentModule],\r\n    declarations: [FireComponent, AddCarModalComponent, AddDocumentModalComponent],\r\n    entryComponents: [AddCarModalComponent, AddDocumentModalComponent]\r\n\r\n})\r\nexport class FireModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/fire/fire.module.ts"],"sourceRoot":"webpack:///"}