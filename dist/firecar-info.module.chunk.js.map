{"version":3,"sources":["C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info-routing.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info.module.ts"],"names":[],"mappings":"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","file":"firecar-info.module.chunk.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {FirecarInfoComponent} from './firecar-info.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: FirecarInfoComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class FirecarInfoRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info-routing.module.ts","module.exports = \"<div>\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xl-6 text-xl-left\\\">\\r\\n            <h3>{{_firecar.name}}</h3>\\r\\n        </div>\\r\\n        <div class=\\\"col-xl-6 text-xl-right\\\">\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-link\\\" (click)=\\\"ReloadData();\\\">\\r\\n                <i *ngIf=\\\"!_loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-refresh fa-2x\\\"></i>\\r\\n                <i *ngIf=\\\"_loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-spin fa-refresh fa-2x\\\"></i>\\r\\n            </button>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"card-body table-responsive\\\">\\r\\n        <br>\\r\\n        <div *ngIf=\\\"_firecar.broadcast!=null && _firecar.broadcast.url!==''\\\" class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <p><button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"broadcastVisible = !broadcastVisible\\\"\\r\\n                        [attr.aria-expanded]=\\\"!broadcastVisible\\\" aria-controls=\\\"broadcast\\\">\\r\\n                    {{'Broadcast' | translate }}\\r\\n                </button>\\r\\n                </p>\\r\\n                <div id=\\\"broadcast\\\" [ngbCollapse]=\\\"broadcastVisible\\\">\\r\\n                    <div class=\\\"card\\\">\\r\\n                        <div class=\\\"card-body\\\" >\\r\\n                            <iframe scrolling=\\\"no\\\" [src]=\\\"videoUrl\\\" allowfullscreen=\\\"\\\" width=\\\"640px\\\" height=\\\"360px\\\" frameborder=\\\"0\\\"></iframe>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <p><button type=\\\"button\\\" class=\\\"btn btn-outline-primary\\\" (click)=\\\"mapVisible = !mapVisible\\\"\\r\\n                        [attr.aria-expanded]=\\\"!mapVisible\\\" aria-controls=\\\"map\\\">\\r\\n                    {{'Map' | translate }}\\r\\n                </button>\\r\\n                </p>\\r\\n                <br>\\r\\n                <div id=\\\"map\\\" [ngbCollapse]=\\\"mapVisible\\\">\\r\\n                    <div class=\\\"card\\\">\\r\\n                        <div class=\\\"card-body\\\">\\r\\n                            <div  style=\\\"height: 600px; width: 100%;\\\">\\r\\n                                <app-map #map style=\\\"height: 100%; width: 100%;\\\" ></app-map>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col\\\">\\r\\n                <p class=\\\"h6\\\">{{'Specialization' | translate}}</p>\\r\\n                <p><mark>{{_firecar.specialization}}</mark></p>\\r\\n            </div>\\r\\n            <div *ngIf=\\\"_firecar.department != null\\\" class=\\\"col\\\">\\r\\n                <p class=\\\"h6\\\">{{'Department' | translate}}</p>\\r\\n                <p><mark>{{_firecar.department.name}}</mark></p>\\r\\n                <p><mark>{{_firecar.department.address}}</mark></p>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n                <p class=\\\"h6\\\">{{'Number' | translate}}</p>\\r\\n                <p><mark>{{_firecar.num}}</mark></p>\\r\\n            </div>\\r\\n            <div class=\\\"col\\\">\\r\\n                <p class=\\\"h6\\\">{{'Last update ' | translate}}</p>\\r\\n                <p><mark>{{_firecar.lastUpdateTime  |amLocale:'ru'| amFromUtc | amLocal |  amTimeAgo  }}</mark></p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info.component.html\n// module id = ../../../../../src/app/layout/firecar-info/firecar-info.component.html\n// module chunks = firecar-info.module","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {Subscription} from 'rxjs/Subscription';\r\nimport {Departure} from '../../shared/models/Departure';\r\nimport {DepartureService} from '../../shared/services/DepartureService';\r\nimport * as moment from 'moment';\r\nimport {Observable} from 'rxjs/Observable';\r\nimport {HistoryRecord} from '../../shared/models/HistoryRecord';\r\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {FireCar} from '../../shared/models/FireCar';\r\nimport {Image} from '../../shared/models/Image';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {Backend} from '../../shared/services/Backend';\r\nimport {FireCarService} from '../../shared/services/FireCarService';\r\nimport {MapComponent} from '../../shared/modules/map-module/map.component';\r\nimport {HydrantService} from '../../shared/services/HydrantService';\r\nimport {FireService} from '../../shared/services/FireService';\r\nimport {DepartmentService} from '../../shared/services/DepartmentService';\r\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\r\n\r\n@Component({\r\n    selector: 'app-firecar-info',\r\n    templateUrl: './firecar-info.component.html',\r\n    providers: [FireCarService, DepartureService, DepartmentService, HydrantService, FireService]\r\n})\r\nexport class FirecarInfoComponent implements OnInit {\r\n\r\n    public id: number;\r\n    public  subscription: Subscription;\r\n    public mapVisible: boolean;\r\n    public _loading: boolean;\r\n    public _firecar: FireCar = new FireCar();\r\n    @ViewChild('map') _map: MapComponent;\r\n    public _firecarMarker: L.Marker;\r\n    public _departments: L.Marker[] = [];\r\n    public _departures: L.Marker[] = [];\r\n    public _fires: L.Marker[] = [];\r\n    public _hydrants: L.Marker[] = [];\r\n    public videoUrl: SafeHtml;\r\n\r\n    constructor(private _activateRoute: ActivatedRoute,\r\n                private _router: Router,\r\n                private _firecarService: FireCarService,\r\n                private _http: HttpClient,\r\n                private _modalService: NgbModal,\r\n                private _departureService: DepartureService,\r\n                private _departmentService: DepartmentService,\r\n                private _fireService: FireService,\r\n                private _hydrantService: HydrantService,\r\n                private _sanitizer: DomSanitizer) {\r\n        this.subscription = _activateRoute.params.subscribe(params => this.id = params['id']);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.ReloadData();\r\n        this.DrawMarkers();\r\n    }\r\n\r\n    public ReloadData() {\r\n        this._loading = true;\r\n        this._firecarService.getFireCarById(this.id).subscribe(data => {\r\n            this._firecar = data;\r\n            if (this._firecarMarker != null) {\r\n                this._map.RemoveMarker(this._firecarMarker);\r\n            }\r\n            if (this._firecar.gpsPoint != null && this._firecar.gpsPoint.lon !== 0) {\r\n                this._firecarMarker = this._map.AddIcon(this._firecar.gpsPoint, 'assets/images/firecarMapIcon.png');\r\n            }\r\n            if (this._firecar.broadcast != null && this._firecar.broadcast.url.length>0)\r\n            {\r\n                this.videoUrl = this._sanitizer.bypassSecurityTrustResourceUrl(this._firecar.broadcast.url);\r\n            }\r\n            this._loading = false;\r\n        });\r\n    }\r\n\r\n    DrawMarkers() {\r\n        this._departureService.getDepartures().subscribe(\r\n            data => {\r\n                for (const d of this._departures) {\r\n                    this._map.RemoveMarker(d);\r\n                }\r\n                this._departures = [];\r\n                for (const d of data) {\r\n                    const marker = this._map.AddIcon(d.gpsPoint, 'assets/images/departureMapIcon.png');\r\n                    marker.bindPopup(\"<p>\"+ d.address + \"</p><p>\"+d.intent+ \"</p><p>\" + d.comments+\"</p>\");\r\n                    this._departures.push(marker);\r\n                }\r\n            }\r\n        );\r\n        this._fireService.getFires().subscribe(\r\n            data => {\r\n                for (const d of this._fires) {\r\n                    this._map.RemoveMarker(d);\r\n                }\r\n                this._fires = [];\r\n                for (const d of data) {\r\n                    const marker = this._map.AddIcon(d.gpsPoint, 'assets/images/fireMapIcon.png');\r\n                    marker.bindPopup(\"<p>\"+ d.address + \"</p><p>\"+d.department.name+ \"</p><p>\" + d.comments\r\n                        + \"</p><p>R:\" + d.rank+\"</p>\");\r\n                    this._fires.push(marker);\r\n                }\r\n            }\r\n        );\r\n        this._departmentService.getDepartments().subscribe(\r\n            data => {\r\n                for (const d of this._departments) {\r\n                    this._map.RemoveMarker(d);\r\n                }\r\n                this._departments = [];\r\n                for (const d of data) {\r\n                    const marker = this._map.AddIcon(d.gpsPoint, 'assets/images/departmentMapIcon.png');\r\n                    marker.bindPopup(\"<p>\"+ d.name + \"</p><p>\"+d.address+ \"</p>\");\r\n                    this._departments.push(marker);\r\n                }\r\n            }\r\n        );\r\n        this._hydrantService.getHydrants().subscribe(\r\n            data => {\r\n                for (const d of this._hydrants) {\r\n                    this._map.RemoveMarker(d);\r\n                }\r\n                this._hydrants = [];\r\n                for (const d of data) {\r\n                    const active = 'assets/images/hydrantMapActive.png';\r\n                    const inactive = 'assets/images/hydrantMapInactive.png';\r\n                    const marker = this._map.AddIcon(d.gpsPoint, d.active ? active : inactive);\r\n                    marker.bindPopup(\"<p>\"+ d.waterType + \"</p><p>\"+d.description+ \"</p><p>\" + d.responsible\r\n                        + \"</p><p>\" + d.revisionDate+\"</p>\");\r\n                    this._hydrants.push(marker);\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    OpenDocumentButtonClick(doc: Image) {\r\n        const docUrl = Backend.HOST_URL + doc.url;\r\n        window.open(docUrl);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport {TranslateModule} from '@ngx-translate/core';\r\nimport {FormsModule} from '@angular/forms';\r\nimport {PageHeaderModule} from '../../shared';\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\r\nimport {MomentModule} from 'angular2-moment';\r\nimport {FirecarInfoRoutingModule} from './firecar-info-routing.module';\r\nimport {FirecarInfoComponent} from './firecar-info.component';\r\nimport {MapModule} from '../../shared/modules/map-module/map.module';\r\n\r\n\r\n\r\n@NgModule({\r\n    imports: [CommonModule, FirecarInfoRoutingModule, MapModule, PageHeaderModule,\r\n        TranslateModule, NgbModule.forRoot(), FormsModule, MomentModule],\r\n    declarations: [FirecarInfoComponent]\r\n})\r\nexport class FirecarInfoModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/firecar-info/firecar-info.module.ts"],"sourceRoot":"webpack:///"}