{"version":3,"sources":["C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-form/address-form.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-form/address-form.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-form/address-form.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-routing.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address.module.ts"],"names":[],"mappings":";;;;;AAAA,6FAA6F,SAAS,0FAA0F,yBAAyB,iGAAiG,iDAAiD,iOAAiO,uBAAuB,gNAAgN,sBAAsB,qPAAqP,uBAAuB,0SAA0S,2BAA2B,maAAma,yBAAyB,+NAA+N,4BAA4B,0TAA0T,KAAK,4BAA4B,gHAAgH,aAAa,0GAA0G,aAAa,kLAAkL,KAAK,wBAAwB,mGAAmG,KAAK,sBAAsB,gC;;;;;;;;;;;;;;;;;;;;;;;;;ACEt9F;AACmC;AACoB;AACT;AACE;AAChB;AACsB;AAS7E;IAaI,8BAAoB,YAA4B,EAC5B,cAA8B,EAC9B,iBAAoC;QAFxD,iBAE6D;QAFzC,iBAAY,GAAZ,YAAY,CAAgB;QAC5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,sBAAiB,GAAjB,iBAAiB,CAAmB;QAbhD,aAAQ,GAAY,IAAI,uEAAO,EAAE,CAAC;QAClC,iBAAY,GAAiB,EAAE,CAAC;QAKjC,YAAO,GAAsB,IAAI,2DAAY,EAAE,CAAC;QAGhD,WAAM,GAAsB,IAAI,2DAAY,EAAE,CAAC;QAwEtD,WAAM,GAAG,UAAC,KAAyB;YAC/B,MAAM,CAAC,KAAK;iBACP,GAAG,CAAC,cAAI,IAAI,WAAI,KAAK,EAAE,GAAG,EAAE;kBACvB,KAAI,CAAC,eAAe,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,EAArD,CAAqD,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,EAD7F,CAC6F,CAAC,CAAC;QACpH,CAAC;QAEM,wBAAmB,GAAG,UAAC,CAAiB,IAAK,QAAC,CAAC,IAAI,EAAN,CAAM,CAAC;IA1EC,CAAC;IAE7D,uCAAQ,GAAR;QAAA,iBAMC;QALG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEvB,IAAI,CAAC,iBAAiB,CAAC,cAAc,EAAE,CAAC,SAAS,CAAC,cAAI;YAClD,KAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,sBAAI,yCAAO;aA4BX;YACI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;QACzB,CAAC;aA9BD,UAAY,KAAK;YAAjB,iBAaC;YAZG,EAAE,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,CAAC,CAAC;gBAChB,MAAM,CAAC;YACX,CAAC;YACD,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;YACtB,mEAAmE;YACnE,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC;gBACpB,IAAI,CAAC,iBAAiB,EAAE,CAAC;YAC7B,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,SAAS,CAAC,WAAC;oBACxB,KAAI,CAAC,iBAAiB,EAAE,CAAC;gBAC7B,CAAC,CAAC,CAAC;YACP,CAAC;QACL,CAAC;;;OAAA;IAED,sBAAI,iDAAe;aAAnB;YACI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC;QAC7B,CAAC;;;OAAA;IAED,gDAAiB,GAAjB;QACQ,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAC5B,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;YACnC,IAAM,GAAG,GAAG,IAAI,qFAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC;YACjF,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;QACrF,CAAC;IACL,CAAC;IAMD,8CAAe,GAAf;QAAA,iBAaC;QAZG,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAM,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE,CAAC;YAC1C,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC;QACvC,CAAC;QACG,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,SAAS,CACnD,UAAC,IAAa;YACV,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YACpB,KAAI,CAAC,UAAU,EAAE,CAAC;QACtB,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,CAC9B,CAAC;IACV,CAAC;IAED,4CAAa,GAAb;QACI,IAAM,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;QACxC,IAAI,CAAC,GAAG,CAAC,gBAAgB,EAAE,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAC/B,CAAC;IAED,yCAAU,GAAV;QACI,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,CAAC;QAC1B,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5B,CAAC;IA5EiB;QAAjB,gEAAS,CAAC,KAAK,CAAC;kCAAM,8FAAY;qDAAC;IAGpC;QADC,6DAAM,EAAE;kCACO,2DAAY;yDAA2B;IAGvD;QADC,6DAAM,EAAE;kCACM,2DAAY;wDAA2B;IAX7C,oBAAoB;QALhC,gEAAS,CAAC;YACP,QAAQ,EAAE,kBAAkB;;YAE5B,SAAS,EAAE,CAAE,6FAAiB,EAAE,uFAAc,CAAC;SAClD,CAAC;yCAcoC,kFAAc;YACZ,uFAAc;YACX,6FAAiB;OAf/C,oBAAoB,CA0FhC;IAAD,2BAAC;CAAA;AA1FgC;;;;;;;;;;;;;;;;;;;;;;;ACjBQ;AACM;AACO;AAED;AAEoB;AAC5B;AACiB;AAQ9D;IAAA;IAAgC,CAAC;IAApB,iBAAiB;QAN7B,+DAAQ,CAAC;YACN,OAAO,EAAE,CAAC,qEAAY,EAAE,4EAAe,EAAE,6EAAS,CAAC,OAAO,EAAE,EAAE,wFAAS,EAAE,mEAAW,CAAC;YACrF,YAAY,EAAE,CAAE,qFAAoB,CAAC;YACrC,OAAO,EAAE,CAAE,qFAAoB,CAAC;YAChC,eAAe,EAAE,CAAE,qFAAoB,CAAC;SAC3C,CAAC;OACW,iBAAiB,CAAG;IAAD,wBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;AChBW;AACc;AACF;AAErD,IAAM,MAAM,GAAW;IACnB;QACI,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,4EAAgB;KAC9B;CACJ,CAAC;AAMF;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QAJhC,+DAAQ,CAAC;YACN,OAAO,EAAE,CAAC,qEAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC,qEAAY,CAAC;SAC1B,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;ACfjC,kMAAkM,6DAA6D,8FAA8F,2JAA2J,KAAK,qBAAqB,6LAA6L,uBAAuB,+BAA+B,sBAAsB,+BAA+B,4BAA4B,uLAAuL,cAAc,+BAA+B,8BAA8B,2HAA2H,wBAAwB,8LAA8L,KAAK,wBAAwB,wI;;;;;;;;;;;;;;;;;;;;;;ACAt5C;AACI;AAEgB;AAEO;AAQ3E;IAII,0BAAoB,cAA8B,EAAU,YAAsB;QAA9D,mBAAc,GAAd,cAAc,CAAgB;QAAU,iBAAY,GAAZ,YAAY,CAAU;QAHlF,YAAO,GAAG,KAAK,CAAC;QAChB,gBAAW,GAAc,EAAE,CAAC;IAG5B,CAAC;IAED,mCAAQ,GAAR;QACI,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,sCAAW,GAAX;QAAA,iBAMC;QALG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,cAAI;YAC7C,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,KAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACzB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yCAAc,GAAd;QAAA,iBAMC;QALG,IAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,kGAAoB,CAAC,CAAC;QAC9D,IAAM,IAAI,GAAG,QAAQ,CAAC,iBAAiB,CAAC;QACxC,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,WAAC;YACpB,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,4CAAiB,GAAjB,UAAkB,EAAU;QAA5B,iBAKC;QAJG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC,SAAS,CAAC,cAAI;YAChD,KAAI,CAAC,WAAW,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAhCQ,gBAAgB;QAN5B,gEAAS,CAAC;YACP,QAAQ,EAAE,aAAa;;YAEvB,SAAS,EAAE,CAAC,uFAAc,EAAE,4EAAQ,CAAC;SACxC,CAAC;yCAMsC,uFAAc,EAAwB,4EAAQ;OAJzE,gBAAgB,CAiC5B;IAAD,uBAAC;CAAA;AAjC4B;;;;;;;;;;;;;;;;;;;;;;;;;ACbY;AACM;AACO;AAEL;AAEoB;AACP;AACO;AAChB;AAMrD;IAAA;IAA4B,CAAC;IAAhB,aAAa;QAJzB,+DAAQ,CAAC;YACN,OAAO,EAAE,CAAC,qEAAY,EAAE,qFAAoB,EAAE,kEAAgB,EAAE,4EAAe,EAAE,wFAAS,EAAE,4FAAiB,CAAC;YAC9G,YAAY,EAAE,CAAC,4EAAgB,CAAC;SACnC,CAAC;OACW,aAAa,CAAG;IAAD,oBAAC;CAAA;AAAH","file":"address.module.chunk.js","sourcesContent":["module.exports = \"<ng-template #departmentTemplate let-r=\\\"result\\\" let-t=\\\"term\\\">\\r\\n    {{ r.name}}\\r\\n</ng-template>\\r\\n\\r\\n<div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title\\\">{{ 'Address' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"CloseModal();\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xl-6 text-xs-left\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"label\\\">{{ 'Label' | translate }}</label>\\r\\n                <input class=\\\"form-control\\\" id=\\\"label\\\" type=\\\"text\\\" [(ngModel)]=\\\"Address.label\\\">\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label>{{ 'Rank' | translate }}</label>\\r\\n                <ngb-pagination [collectionSize]=\\\"30\\\" [(page)]=\\\"Address.rank\\\" [directionLinks]=\\\"false\\\"></ngb-pagination>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"place\\\">{{ 'Place' | translate }}</label>\\r\\n                <input class=\\\"form-control\\\" id=\\\"place\\\" type=\\\"text\\\" [(ngModel)]=\\\"Address.place\\\">\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xl-6 text-xs-right\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"departmentBox\\\">{{'Department' | translate }}</label>\\r\\n                <input id=\\\"departmentBox\\\" type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"Address.department\\\"\\r\\n                       [ngbTypeahead]=\\\"search\\\"\\r\\n                       [resultTemplate]=\\\"departmentTemplate\\\"\\r\\n                       [inputFormatter]=\\\"departmentFormatter\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"cat\\\">{{'Category' | translate }}</label>\\r\\n                <input id=\\\"cat\\\" type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"Address.category\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"desc\\\">{{'Description' | translate }}</label>\\r\\n                <input id=\\\"desc\\\" type=\\\"text\\\" class=\\\"form-control\\\" [(ngModel)]=\\\"Address.description\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <br>\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"PutViewMarker();\\\">{{ 'Add marker' | translate }}</button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" style=\\\"height: 250px; width: 100%;\\\">\\r\\n        <div class=\\\"col-xl-12 text-xs-center\\\">\\r\\n            <app-map #map style=\\\"height: 100%; width: 100%;\\\"></app-map>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n    <div class=\\\"modal-footer\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"CloseModal();\\\">{{ 'Cancel' | translate }}</button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"SaveButtonClick();\\\">{{ 'Save' | translate }}</button>\\r\\n    </div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-form/address-form.component.html\n// module id = ../../../../../src/app/layout/address/address-form/address-form.component.html\n// module chunks = address.module","import {\r\n    Component, EventEmitter, OnInit, Output, ViewChild\r\n} from '@angular/core';\r\nimport {NgbActiveModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {MapComponent} from '../../../shared/modules/map-module/map.component';\r\nimport {GpsPoint} from '../../../shared/modules/map-module/GpsPoint';\r\nimport {AddressService} from '../../../shared/services/AddressService';\r\nimport {Address} from '../../../shared/models/Address';\r\nimport {DepartmentService} from '../../../shared/services/DepartmentService';\r\nimport {Department} from '../../../shared/models/Department';\r\nimport {Observable} from 'rxjs/Observable';\r\n\r\n@Component({\r\n    selector: 'app-address-form',\r\n    templateUrl: './address-form.component.html',\r\n    providers: [ DepartmentService, AddressService]\r\n})\r\nexport class AddressFormComponent implements OnInit {\r\n\r\n    private _address: Address = new Address();\r\n    private _departments: Department[] = [];\r\n\r\n    @ViewChild('map') map: MapComponent;\r\n\r\n    @Output()\r\n    public OnClose: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output()\r\n    public OnInit: EventEmitter<any> = new EventEmitter();\r\n\r\n    constructor(private modalService: NgbActiveModal,\r\n                private addressService: AddressService,\r\n                private departmentService: DepartmentService) { }\r\n\r\n    ngOnInit(): void {\r\n        this.OnInit.next(null);\r\n\r\n        this.departmentService.getDepartments().subscribe(data => {\r\n            this._departments = data;\r\n        });\r\n    }\r\n\r\n    set Address(value) {\r\n        if (value == null) {\r\n            return;\r\n        }\r\n        this._address = value;\r\n        // Если карта готова - рисует, если нет, то подписываемся на карту.\r\n        if (this.map.MapReady) {\r\n            this.DrawAddressMarker();\r\n        } else {\r\n            this.map.OnReady.subscribe(e => {\r\n                this.DrawAddressMarker();\r\n            });\r\n        }\r\n    }\r\n\r\n    get DepartmentsList(): Department[] {\r\n        return this._departments;\r\n    }\r\n\r\n    DrawAddressMarker() {\r\n            this.map.RemoveAllMarkers();\r\n            if (this._address.gpsPoint.lat !== 0) {\r\n                const geo = new GpsPoint(this._address.gpsPoint.lat, this._address.gpsPoint.lon);\r\n                this.map.AddMarker(geo);\r\n                this.map.map.panTo([this._address.gpsPoint.lat, this._address.gpsPoint.lon]);\r\n        }\r\n    }\r\n\r\n    get Address(): Address {\r\n        return this._address;\r\n    }\r\n\r\n    SaveButtonClick() {\r\n        if (this.map.markers.length > 0) {\r\n            const m = this.map.markers[0].getLatLng();\r\n            this._address.gpsPoint.lon = m.lng;\r\n            this._address.gpsPoint.lat = m.lat;\r\n        }\r\n            this.addressService.addAddress(this._address).subscribe(\r\n                (data: Address) => {\r\n                    this.Address = data;\r\n                    this.CloseModal();\r\n                },\r\n                error => console.log(error)\r\n            );\r\n    }\r\n\r\n    PutViewMarker() {\r\n        const center = this.map.GetCenterLtLn();\r\n        this.map.RemoveAllMarkers();\r\n        this.map.AddMarker(center);\r\n    }\r\n\r\n    CloseModal() {\r\n        this.modalService.close();\r\n        this.OnClose.next(null);\r\n    }\r\n\r\n    search = (text$: Observable<string>) => {\r\n        return text$\r\n            .map(term => term === '' ? []\r\n                : this.DepartmentsList.filter(v => v.name.toLowerCase().indexOf(term.toLowerCase()) > -1).slice(0, 10));\r\n    }\r\n\r\n    public departmentFormatter = (x: {name: string}) => x.name;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-form/address-form.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { MapModule} from '../../../shared/modules/map-module/map.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {AddressFormComponent} from './address-form.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, TranslateModule, NgbModule.forRoot(), MapModule, FormsModule],\r\n    declarations: [ AddressFormComponent],\r\n    exports: [ AddressFormComponent],\r\n    entryComponents: [ AddressFormComponent]\r\n})\r\nexport class AddressFormModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-form/address-form.module.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {AddressComponent} from './address.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: AddressComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class AddressRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address-routing.module.ts","module.exports = \"<div>\\r\\n    <app-page-header [heading]=\\\"'Addresses' | translate\\\" [icon]=\\\"'fa-building'\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-link\\\" (click)=\\\"RefreshList();\\\">\\r\\n            <i *ngIf=\\\"!loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-refresh fa-2x\\\"></i>\\r\\n            <i *ngIf=\\\"loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-spin fa-refresh fa-2x\\\"></i>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"AddButtonClick();\\\">{{ 'Add' | translate }}</button>\\r\\n    </app-page-header>\\r\\n    <div class=\\\"card-body table-responsive\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n            <tr>\\r\\n                <th>{{ 'Label' | translate }}</th>\\r\\n                <th>{{ 'Rank' | translate }}</th>\\r\\n                <th>{{ 'Department' | translate }}</th>\\r\\n                <th></th>\\r\\n            </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n            <tr *ngFor=\\\"let addr of addressList\\\">\\r\\n                <td>{{ addr.label }}</td>\\r\\n                <td>{{ addr.rank | number:'1.0-0' }}</td>\\r\\n                <td>\\r\\n                    <span *ngIf=\\\"addr.department != null\\\">\\r\\n                        {{ addr.department.name }}\\r\\n                    </span>\\r\\n                </td>\\r\\n                <td>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"DeleteButtonClick(addr.id);\\\">{{ 'Delete' | translate }}</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address.component.html\n// module id = ../../../../../src/app/layout/address/address.component.html\n// module chunks = address.module","import {Component, OnInit} from '@angular/core';\r\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {routerTransition} from '../../router.animations';\r\nimport {AddressService} from '../../shared/services/AddressService';\r\nimport { Address} from '../../shared/models/Address';\r\nimport {AddressFormComponent} from './address-form/address-form.component';\r\n\r\n@Component({\r\n    selector: 'app-address',\r\n    templateUrl: './address.component.html',\r\n    providers: [AddressService, NgbModal]\r\n})\r\n\r\nexport class AddressComponent implements OnInit {\r\n    loading = false;\r\n    addressList: Address[] = [];\r\n\r\n    constructor(private addressService: AddressService, private modalService: NgbModal) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.RefreshList();\r\n    }\r\n\r\n    RefreshList() {\r\n        this.loading = true;\r\n        this.addressService.getAddresses().subscribe(data => {\r\n            this.addressList = data;\r\n            this.loading = false;\r\n        });\r\n    }\r\n\r\n    AddButtonClick() {\r\n        const modalRef = this.modalService.open(AddressFormComponent);\r\n        const form = modalRef.componentInstance;\r\n        form.OnClose.subscribe(e => {\r\n            this.RefreshList();\r\n        });\r\n    }\r\n\r\n    DeleteButtonClick(id: number) {\r\n        this.loading = true;\r\n        this.addressService.deleteAddress(id).subscribe(data => {\r\n            this.RefreshList();\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { PageHeaderModule } from '../../shared/';\r\n\r\nimport {MapModule} from '../../shared/modules/map-module/map.module';\r\nimport {AddressRoutingModule} from './address-routing.module';\r\nimport {AddressFormModule} from './address-form/address-form.module';\r\nimport {AddressComponent} from './address.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, AddressRoutingModule, PageHeaderModule, TranslateModule, MapModule, AddressFormModule],\r\n    declarations: [AddressComponent]\r\n})\r\nexport class AddressModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/address/address.module.ts"],"sourceRoot":"webpack:///"}