{"version":3,"sources":["C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-form/hydrant-form.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-form/hydrant-form.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-form/hydrant-form.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-routing.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant.component.html","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant.component.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant.module.ts","C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/shared/models/Hydrant.ts"],"names":[],"mappings":"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","file":"hydrant.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title\\\">{{ 'Hydrant' | translate }}</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" (click)=\\\"CloseModal();\\\">\\r\\n        <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n</div>\\r\\n<div class=\\\"modal-body\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xl-6 text-xs-left\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"description\\\">{{ 'Description' | translate }}</label>\\r\\n                <input class=\\\"form-control\\\" id=\\\"description\\\" type=\\\"text\\\" [(ngModel)]=\\\"Hydrant.description\\\">\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                    <div class=\\\"input-group\\\">\\r\\n                        <input class=\\\"form-control\\\" placeholder=\\\"yyyy-mm-dd\\\" #dateModel=\\\"ngModel\\\"\\r\\n                               name=\\\"datePicker\\\" [(ngModel)]=\\\"revisionDateModel\\\" ngbDatepicker #datePicker=\\\"ngbDatepicker\\\">\\r\\n                        <div class=\\\"input-group-append\\\">\\r\\n                            <button class=\\\"btn btn-outline-secondary\\\" (click)=\\\"datePicker.toggle()\\\" type=\\\"button\\\">\\r\\n                                <i class=\\\"fa fa-calendar\\\"></i>\\r\\n                            </button>\\r\\n                        </div>\\r\\n                    </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-xl-6 text-xs-left\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"responsible\\\">{{ 'Responsible' | translate }}</label>\\r\\n                <input class=\\\"form-control\\\" id=\\\"responsible\\\" type=\\\"text\\\" [(ngModel)]=\\\"Hydrant.responsible\\\">\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label for=\\\"water\\\">{{ 'Water Type' | translate }}</label>\\r\\n                <input class=\\\"form-control\\\" id=\\\"water\\\" type=\\\"text\\\" [(ngModel)]=\\\"Hydrant.waterType\\\">\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xl-6 text-xs-left\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"checkbox\\\">\\r\\n                            <label>\\r\\n                                <input id=\\\"active\\\" type=\\\"checkbox\\\" checked [(ngModel)]=\\\"Hydrant.active\\\" > {{'Active' | translate }}\\r\\n                            </label>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"col-xl-6 text-xs-right\\\">\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <button type=\\\"button\\\" #putMarkerButton class=\\\"btn btn-sm btn-secondary\\\" (click)=\\\"PutViewMarker();\\\">\\r\\n                            {{'Add marker' | translate}}</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" style=\\\"height: 250px; width: 100%;\\\">\\r\\n        <div class=\\\"col-xl-12 text-xs-center\\\">\\r\\n            <app-map #map style=\\\"height: 100%; width: 100%;\\\" ></app-map>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-secondary\\\" (click)=\\\"CloseModal();\\\">{{ 'Cancel' | translate }}</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-success\\\" (click)=\\\"SaveButtonClick();\\\">{{ 'Save' | translate }}</button>\\r\\n    <button *ngIf=\\\"EditMode\\\" type=\\\"button\\\" class=\\\"btn btn-danger\\\" (click)=\\\"DeleteButtonClick();\\\">{{ 'Remove' | translate }}</button>\\r\\n</div>\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-form/hydrant-form.component.html\n// module id = ../../../../../src/app/layout/hydrant/hydrant-form/hydrant-form.component.html\n// module chunks = hydrant.module","import {\r\n    AfterViewInit,\r\n    Component, EventEmitter, Injectable, Input, OnInit, Output, QueryList, ViewChild\r\n} from '@angular/core';\r\nimport {NgbActiveModal, NgbDateAdapter, NgbDateStruct} from '@ng-bootstrap/ng-bootstrap';\r\nimport {MapComponent} from '../../../shared/modules/map-module/map.component';\r\nimport {GpsPoint} from '../../../shared/modules/map-module/GpsPoint';\r\nimport {HydrantService} from '../../../shared/services/HydrantService';\r\nimport {Hydrant} from '../../../shared/models/Hydrant';\r\nimport {NgbDateNativeAdapter} from '../../../shared/adapters/NgbDateNativeAdapter';\r\nimport {StringDateProvider} from '../../../shared/providers/StringDateProvider';\r\nimport {Validators} from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'app-hydrant-form',\r\n    templateUrl: './hydrant-form.component.html',\r\n    providers: [ HydrantService, StringDateProvider]\r\n})\r\nexport class HydrantFormComponent implements AfterViewInit, OnInit {\r\n\r\n    revisionDateModel: Date;\r\n\r\n    private _hydrant: Hydrant = new Hydrant();\r\n\r\n    @ViewChild('content') content: any;\r\n    @ViewChild('map') map: MapComponent;\r\n\r\n    private _editMode = false;\r\n\r\n    @Output()\r\n    public OnClose: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output()\r\n    public AfterViewInit: EventEmitter<any> = new EventEmitter();\r\n\r\n    @Output()\r\n    public OnInit: EventEmitter<any> = new EventEmitter();\r\n\r\n\r\n\r\n    constructor(private modalService: NgbActiveModal, private hydrantService: HydrantService) { }\r\n\r\n    public get EditMode(): boolean {\r\n        return this._editMode;\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        this.AfterViewInit.next(null);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.OnInit.next(null);\r\n    }\r\n\r\n    set Hydrant(value) {\r\n        if (value == null) {\r\n            return;\r\n        }\r\n        this._hydrant = value;\r\n        // Если карта готова - рисует, если нет, то подписываемся на карту.\r\n        if (this.map.MapReady) {\r\n            this.DrawHydrantMarker();\r\n        } else {\r\n            this.map.OnReady.subscribe(e => {\r\n                this.DrawHydrantMarker();\r\n            });\r\n        }\r\n        this.OnInit.subscribe(e => {\r\n            this.revisionDateModel = new Date(this._hydrant.revisionDate);\r\n        }, e => {} , e => {});\r\n    }\r\n\r\n    DrawHydrantMarker() {\r\n            this.map.RemoveAllMarkers();\r\n            if (this._hydrant.gpsPoint != null) {\r\n                const geo = new GpsPoint(this._hydrant.gpsPoint.lat, this._hydrant.gpsPoint.lon);\r\n                this.map.AddMarker(geo);\r\n                this.map.map.panTo([this._hydrant.gpsPoint.lat, this._hydrant.gpsPoint.lon]);\r\n        }\r\n    }\r\n\r\n    get Hydrant(): Hydrant {\r\n        return this._hydrant;\r\n    }\r\n\r\n    SaveButtonClick() {\r\n        this._hydrant.revisionDate = this.revisionDateModel.toISOString();\r\n        if (this.map.markers.length > 0) {\r\n            const m = this.map.markers[0].getLatLng();\r\n            this._hydrant.gpsPoint = new GpsPoint();\r\n            this._hydrant.gpsPoint.lon = m.lng;\r\n            this._hydrant.gpsPoint.lat = m.lat;\r\n        }\r\n        if (this._editMode) {\r\n            this.hydrantService.updateHydrant(this.Hydrant).subscribe(\r\n                (data: Hydrant) => {\r\n                    this.Hydrant = data;\r\n                    this.CloseModal();\r\n                },\r\n                error => console.log(error)\r\n            );\r\n        } else {\r\n            this.hydrantService.addHydrant(this.Hydrant).subscribe(\r\n                (data: Hydrant) => {\r\n                    this.Hydrant = data;\r\n                    this.CloseModal();\r\n                },\r\n                error => console.log(error)\r\n            );\r\n        }\r\n    }\r\n\r\n    EditHydrant(hydrant: Hydrant) {\r\n        this._editMode = true;\r\n        this.Hydrant = hydrant ;\r\n    }\r\n\r\n    PutViewMarker() {\r\n        const center = this.map.GetCenterLtLn();\r\n        this.map.RemoveAllMarkers();\r\n        this.map.AddMarker(center);\r\n    }\r\n\r\n\r\n    CloseModal() {\r\n        this.modalService.close();\r\n        this.OnClose.next(null);\r\n    }\r\n\r\n    DeleteButtonClick() {\r\n        this.hydrantService.deleteHydrant(this._hydrant.id).subscribe(data => {\r\n            this.CloseModal();\r\n        });\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-form/hydrant-form.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport {NgbModule} from '@ng-bootstrap/ng-bootstrap';\r\n\r\nimport { MapModule} from '../../../shared/modules/map-module/map.module';\r\nimport { FormsModule } from '@angular/forms';\r\nimport {HydrantFormComponent} from './hydrant-form.component';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, TranslateModule, NgbModule.forRoot(), MapModule, FormsModule],\r\n    declarations: [ HydrantFormComponent],\r\n    exports: [ HydrantFormComponent],\r\n    entryComponents: [ HydrantFormComponent]\r\n})\r\nexport class HydrantFormModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-form/hydrant-form.module.ts","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {HydrantComponent} from './hydrant.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: HydrantComponent\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule]\r\n})\r\nexport class HydrantRoutingModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant-routing.module.ts","module.exports = \"<div>\\r\\n    <app-page-header [heading]=\\\"'Hydrants'  | translate\\\" [icon]=\\\"'fa-adjust'\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-link\\\" (click)=\\\"RefreshList();\\\">\\r\\n            <i *ngIf=\\\"!loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-refresh fa-2x\\\"></i>\\r\\n            <i *ngIf=\\\"loading\\\" style=\\\"color: grey;\\\" class=\\\"fa fa-spin fa-refresh fa-2x\\\"></i>\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"AddButtonClick();\\\">{{ 'Add' | translate }}</button>\\r\\n    </app-page-header>\\r\\n    <div class=\\\"card-body table-responsive\\\">\\r\\n        <table class=\\\"table\\\">\\r\\n            <thead>\\r\\n            <tr>\\r\\n                <th>{{ 'Active' | translate }}</th>\\r\\n                <th>{{ 'Revision date' | translate }}</th>\\r\\n                <th>{{ 'Responsible' | translate }}</th>\\r\\n                <th></th>\\r\\n            </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n            <tr *ngFor=\\\"let hyd of hydrantList\\\">\\r\\n                <td>\\r\\n                    <i *ngIf=\\\"hyd.active\\\" style=\\\"color: darkblue;\\\" class=\\\"fa fa-adjust\\\"></i>\\r\\n                    <i *ngIf=\\\"!hyd.active\\\" style=\\\"color: darkred;\\\" class=\\\"fa fa-adjust\\\"></i>\\r\\n                </td>\\r\\n                <td>{{hyd.revisionDate | date}}</td>\\r\\n                <td>{{hyd.responsible}}</td>\\r\\n                <td>\\r\\n                    <button type=\\\"button\\\" class=\\\"btn btn-info\\\" (click)=\\\"EditButtonClick(hyd);\\\">{{ 'Edit' | translate }}</button>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant.component.html\n// module id = ../../../../../src/app/layout/hydrant/hydrant.component.html\n// module chunks = hydrant.module","import {Component, OnInit} from '@angular/core';\r\nimport {NgbModal} from '@ng-bootstrap/ng-bootstrap';\r\nimport {HydrantService} from '../../shared/services/HydrantService';\r\nimport {Hydrant} from '../../shared/models/Hydrant';\r\nimport {HydrantFormComponent} from './hydrant-form/hydrant-form.component';\r\n\r\n@Component({\r\n    selector: 'app-hydrant',\r\n    templateUrl: './hydrant.component.html',\r\n    providers: [HydrantService, NgbModal]\r\n})\r\n\r\nexport class HydrantComponent implements OnInit {\r\n    loading = false;\r\n    hydrantList: Hydrant[] = [];\r\n\r\n    constructor(private hydrantService: HydrantService, private modalService: NgbModal) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.RefreshList();\r\n    }\r\n\r\n    RefreshList() {\r\n        this.loading = true;\r\n        this.hydrantService.getHydrants().subscribe(data => {\r\n            this.hydrantList = data;\r\n            this.loading = false;\r\n        });\r\n    }\r\n\r\n    AddButtonClick() {\r\n        const modalRef = this.modalService.open(HydrantFormComponent);\r\n        const form = modalRef.componentInstance;\r\n        form.OnClose.subscribe(e => {\r\n            this.RefreshList();\r\n        });\r\n    }\r\n\r\n    EditButtonClick(hyd: Hydrant) {\r\n        const modalRef = this.modalService.open(HydrantFormComponent);\r\n        const form = modalRef.componentInstance;\r\n        form.OnClose.subscribe(e => {\r\n            this.RefreshList();\r\n        });\r\n        form.EditHydrant(hyd);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant.component.ts","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { PageHeaderModule } from '../../shared/';\r\n\r\nimport {MapModule} from '../../shared/modules/map-module/map.module';\r\nimport {HydrantComponent} from './hydrant.component';\r\nimport {HydrantRoutingModule} from './hydrant-routing.module';\r\nimport {HydrantFormModule} from './hydrant-form/hydrant-form.module';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, HydrantRoutingModule, PageHeaderModule, TranslateModule, MapModule, HydrantFormModule],\r\n    declarations: [HydrantComponent]\r\n})\r\nexport class HydrantModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/layout/hydrant/hydrant.module.ts","import {Time} from '@angular/common';\r\nimport {GpsPoint} from '../modules/map-module/GpsPoint';\r\n\r\nexport class Hydrant {\r\n    id = 0;\r\n    revisionDate: string;\r\n    active = true;\r\n    gpsPoint: GpsPoint = new GpsPoint();\r\n    responsible: string;\r\n    description: string;\r\n    waterType: string;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/Users/andreygolubkow/WebstormProjects/OperatorApp/src/app/shared/models/Hydrant.ts"],"sourceRoot":"webpack:///"}